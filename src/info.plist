<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>bundleid</key>
	<string>com.cjbridges.github-to-things</string>
	<key>connections</key>
	<dict>
		<key>02059E55-7A92-48E1-9264-29D29544F8D7</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>AE52A9DA-9C81-4453-B087-B857FEBBB837</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>sourceoutputuid</key>
				<string>7FAD5F58-1C2A-4772-8FAD-8FB3C584B6F8</string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>4C02A2C8-CF0A-46FA-A239-D28FBEFEA0B7</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>4C02A2C8-CF0A-46FA-A239-D28FBEFEA0B7</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>08CD3B53-D62A-4DB8-A97F-141BFA945C77</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>AE52A9DA-9C81-4453-B087-B857FEBBB837</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>6E02A2DC-E03D-49FE-9A8F-2838162A981F</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>B8E0074B-25BC-47A1-B426-6B1AF2DD8616</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>F706054E-78BF-42BB-94C4-2D4E4353F86F</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>F706054E-78BF-42BB-94C4-2D4E4353F86F</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>02059E55-7A92-48E1-9264-29D29544F8D7</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
	</dict>
	<key>createdby</key>
	<string>CJ Bridges</string>
	<key>description</key>
	<string>Use Hub, things.sh, and Things URL scheme to bring Github PRs for review into Things</string>
	<key>disabled</key>
	<false/>
	<key>name</key>
	<string>Github PR to Things Tasks</string>
	<key>objects</key>
	<array>
		<dict>
			<key>config</key>
			<dict>
				<key>lastpathcomponent</key>
				<false/>
				<key>onlyshowifquerypopulated</key>
				<false/>
				<key>removeextension</key>
				<false/>
				<key>text</key>
				<string></string>
				<key>title</key>
				<string>Finished loading PRs</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.notification</string>
			<key>uid</key>
			<string>6E02A2DC-E03D-49FE-9A8F-2838162A981F</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>concurrently</key>
				<false/>
				<key>escaping</key>
				<integer>102</integer>
				<key>script</key>
				<string>ruby github_to_things.rb</string>
				<key>scriptargtype</key>
				<integer>1</integer>
				<key>scriptfile</key>
				<string></string>
				<key>type</key>
				<integer>0</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.script</string>
			<key>uid</key>
			<string>AE52A9DA-9C81-4453-B087-B857FEBBB837</string>
			<key>version</key>
			<integer>2</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>concurrently</key>
				<false/>
				<key>escaping</key>
				<integer>102</integer>
				<key>script</key>
				<string>/bin/bash check_prereqs.sh</string>
				<key>scriptargtype</key>
				<integer>1</integer>
				<key>scriptfile</key>
				<string></string>
				<key>type</key>
				<integer>0</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.script</string>
			<key>uid</key>
			<string>F706054E-78BF-42BB-94C4-2D4E4353F86F</string>
			<key>version</key>
			<integer>2</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argumenttype</key>
				<integer>2</integer>
				<key>keyword</key>
				<string>prload</string>
				<key>subtext</key>
				<string>Check last 50 PRs from Github</string>
				<key>text</key>
				<string>Load PRs to Things</string>
				<key>withspace</key>
				<false/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.input.keyword</string>
			<key>uid</key>
			<string>B8E0074B-25BC-47A1-B426-6B1AF2DD8616</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>conditions</key>
				<array>
					<dict>
						<key>inputstring</key>
						<string></string>
						<key>matchcasesensitive</key>
						<false/>
						<key>matchmode</key>
						<integer>0</integer>
						<key>matchstring</key>
						<string></string>
						<key>outputlabel</key>
						<string>good</string>
						<key>uid</key>
						<string>7FAD5F58-1C2A-4772-8FAD-8FB3C584B6F8</string>
					</dict>
				</array>
				<key>elselabel</key>
				<string>needs_setup</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.conditional</string>
			<key>uid</key>
			<string>02059E55-7A92-48E1-9264-29D29544F8D7</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>adduuid</key>
				<false/>
				<key>allowemptyfiles</key>
				<true/>
				<key>createintermediatefolders</key>
				<false/>
				<key>filename</key>
				<string>/tmp/github_pr_to_things_prereqs.txt</string>
				<key>filetext</key>
				<string>{query}</string>
				<key>relativepathmode</key>
				<integer>0</integer>
				<key>type</key>
				<integer>1</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.writefile</string>
			<key>uid</key>
			<string>4C02A2C8-CF0A-46FA-A239-D28FBEFEA0B7</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>openwith</key>
				<string></string>
				<key>sourcefile</key>
				<string></string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.openfile</string>
			<key>uid</key>
			<string>08CD3B53-D62A-4DB8-A97F-141BFA945C77</string>
			<key>version</key>
			<integer>3</integer>
		</dict>
	</array>
	<key>readme</key>
	<string>This workflow checks the last 50 PRs in given repositories and ensures they are added as Things tasks.  The idea is to request new PRs and add them to designated lists in Things 3 for processing.

Some other ways you might want to adjust the tool:
- Only get PRs from people on your team
- Put the PRs in the inbox for sorting instead of their dedicated lists

Note: Updates to a PR are not currently handled (e.g. if your review is requested after loading to Things, or a title changes)

Variables
---------

CURRENT_GITHUB_USER is your github username - it's used to identify PRs where review has been requested.  Required.

REPO_CONFIG_* define the repositories to include and a local path to them. Format as:
repo_friendly_name,/path/to/local/repo

TEAM_AUTHORS is the group of users that are on your immediate team. Separate these reviews from others in your org for easier prioritization. Github usernames, comma separated.  Optional.

THINGS_AUTH_TOKEN is the URL Scheme token findable by going to Preferences -&gt; Enable Things URL -&gt; Manage.  Required.</string>
	<key>uidata</key>
	<dict>
		<key>02059E55-7A92-48E1-9264-29D29544F8D7</key>
		<dict>
			<key>xpos</key>
			<integer>390</integer>
			<key>ypos</key>
			<integer>185</integer>
		</dict>
		<key>08CD3B53-D62A-4DB8-A97F-141BFA945C77</key>
		<dict>
			<key>xpos</key>
			<integer>710</integer>
			<key>ypos</key>
			<integer>240</integer>
		</dict>
		<key>4C02A2C8-CF0A-46FA-A239-D28FBEFEA0B7</key>
		<dict>
			<key>note</key>
			<string>Text file with the error display, allows copy and paste or URLs.</string>
			<key>xpos</key>
			<integer>515</integer>
			<key>ypos</key>
			<integer>240</integer>
		</dict>
		<key>6E02A2DC-E03D-49FE-9A8F-2838162A981F</key>
		<dict>
			<key>xpos</key>
			<integer>715</integer>
			<key>ypos</key>
			<integer>105</integer>
		</dict>
		<key>AE52A9DA-9C81-4453-B087-B857FEBBB837</key>
		<dict>
			<key>xpos</key>
			<integer>515</integer>
			<key>ypos</key>
			<integer>105</integer>
		</dict>
		<key>B8E0074B-25BC-47A1-B426-6B1AF2DD8616</key>
		<dict>
			<key>xpos</key>
			<integer>60</integer>
			<key>ypos</key>
			<integer>165</integer>
		</dict>
		<key>F706054E-78BF-42BB-94C4-2D4E4353F86F</key>
		<dict>
			<key>note</key>
			<string>Check Prerequisites</string>
			<key>xpos</key>
			<integer>230</integer>
			<key>ypos</key>
			<integer>165</integer>
		</dict>
	</dict>
	<key>variables</key>
	<dict>
		<key>CURRENT_GITHUB_USER</key>
		<string></string>
		<key>REPO_CONFIG_1</key>
		<string></string>
		<key>REPO_CONFIG_2</key>
		<string></string>
		<key>TEAM_AUTHORS</key>
		<string></string>
		<key>THINGS_AUTH_TOKEN</key>
		<string></string>
	</dict>
	<key>variablesdontexport</key>
	<array>
		<string>REPO_CONFIG_1</string>
		<string>TEAM_AUTHORS</string>
		<string>REPO_CONFIG_2</string>
		<string>THINGS_AUTH_TOKEN</string>
		<string>CURRENT_GITHUB_USER</string>
	</array>
	<key>version</key>
	<string>1.0.0</string>
	<key>webaddress</key>
	<string>https://github.com/CJBridges/github_to_things</string>
</dict>
</plist>
